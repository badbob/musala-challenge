package vladimir.loshchin.drones;

import java.math.BigDecimal;
import java.util.Base64;

import javax.sql.rowset.serial.SerialBlob;

import org.springframework.boot.CommandLineRunner;
import org.springframework.context.annotation.Bean;
import org.springframework.context.annotation.Configuration;

import vladimir.loshchin.drones.dao.DroneRepo;
import vladimir.loshchin.drones.dao.MedicationRepo;
import vladimir.loshchin.drones.model.Drone;
import vladimir.loshchin.drones.model.DroneModel;
import vladimir.loshchin.drones.model.DroneStatus;
import vladimir.loshchin.drones.model.Medication;

@Configuration
public class InitDatabase {


    @Bean
    CommandLineRunner initDB(DroneRepo droneRepo, MedicationRepo medicationRepo) {
        return args -> {
            droneRepo.save(new Drone("SERIAL-1", DroneModel.LIGHT, DroneStatus.IDLE, new BigDecimal(1), null));
            droneRepo.save(new Drone("LOADED-DRONE", DroneModel.MIDDLE, DroneStatus.LOADED, new BigDecimal(1), null));
            droneRepo.save(new Drone("OUT-OF-BATTERY", DroneModel.CRUISER, DroneStatus.IDLE, new BigDecimal("0.1"), null));

            medicationRepo.save(new Medication("ASPIRIN", "Aspirin", 20, new SerialBlob(Base64.getDecoder().decode(ASPIRIN_IMAGE_BASE64))));
        };
    }

    private String ASPIRIN_IMAGE_BASE64 = "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";

}
